{"version":3,"sources":["pages/TicketPage.module.css","pages/TicketPage.js","components/Ticket/Ticket.js","components/Ticket/Ticket.module.css"],"names":["module","exports","ticketcontainer","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","_hooks_use_http__WEBPACK_IMPORTED_MODULE_3__","_lib_api__WEBPACK_IMPORTED_MODULE_4__","_components_Ticket_Ticket__WEBPACK_IMPORTED_MODULE_5__","_Store_ui_slice__WEBPACK_IMPORTED_MODULE_6__","_Store_order_slice__WEBPACK_IMPORTED_MODULE_7__","_components_UI_LoadingSpinner__WEBPACK_IMPORTED_MODULE_8__","_components_UI_Modal__WEBPACK_IMPORTED_MODULE_9__","_TicketPage_module_css__WEBPACK_IMPORTED_MODULE_10__","_TicketPage_module_css__WEBPACK_IMPORTED_MODULE_10___default","TicketPage","props","ticket","dispatch","useDispatch","navigate","useNavigate","uid","useSelector","state","auth","orderId","useParams","_useHttp","useHttp","getOrder","sendRequest","data","status","error","useEffect","uiActions","closeBookingStage","a","createElement","console","log","tickets","selectedSeats","time","date","sessionId","movieName","onClick","orderActions","cancelOrder","className","classes","react_redux__WEBPACK_IMPORTED_MODULE_1__","_Ticket_module_css__WEBPACK_IMPORTED_MODULE_3__","_Ticket_module_css__WEBPACK_IMPORTED_MODULE_3___default","react_barcode__WEBPACK_IMPORTED_MODULE_4__","react_barcode__WEBPACK_IMPORTED_MODULE_4___default","Ticket","items","map","index","row","seatNum","days","split","day","key","ticketrow","ticketsmall","tickettag","ticketvalue","value","concat","background","height","width","displayValue","tickettitle"],"mappings":"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","file":"static/js/6.a702e86e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ticketcontainer\":\"TicketPage_ticketcontainer__fJU0M\"};","import React,{ Fragment } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport useHttp from \"../hooks/use-http\";\nimport { getOrder } from \"../lib/api\";\nimport Ticket from \"../components/Ticket/Ticket\";\nimport { uiActions } from \"../Store/ui-slice\";\nimport { orderActions } from \"../Store/order-slice\";\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\nimport Modal from \"../components/UI/Modal\";\nimport classes from \"./TicketPage.module.css\";\n\n\nconst TicketPage = (props) =>{\n    const dispatch = useDispatch();\n    const navigate =useNavigate();\n    const uid = useSelector( state => state.auth.uid);\n    const params = useParams();\n    const { orderId } = params;\n    let ticket;\n    const { sendRequest, data, status, error } = useHttp( getOrder, true);\n    const closeTicketHandler = () =>{\n        navigate(`/`);\n        dispatch(uiActions.closeBookingStage())\n        dispatch(orderActions.cancelOrder());\n    }\n\n    useEffect (()=>{\n       \n        dispatch(uiActions. closeBookingStage());\n        if(uid){\n            sendRequest(orderId,uid);\n        }else{\n            sendRequest(orderId);\n        }\n    },[orderId,uid]);\n\n    if (error){\n        ticket = <p>Network error</p>\n    }\n    if(status == 'pending'){\n        ticket = <LoadingSpinner/>\n    }\n    if(status == 'completed' && data){\n        console.log(data);\n        ticket = <Ticket tickets = {data.selectedSeats} time={data.time} date={data.date} sessionId={data.sessionId} movieName={data.movieName}/>\n    }\n\n    return (\n        <Modal onClick = {closeTicketHandler}>\n              <div className={classes.ticketcontainer}>\n              {ticket}\n              </div>\n          \n        </Modal>\n    )\n\n}\n\nexport default TicketPage;\n\n","import React from 'react';\nimport { Fragment } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Modal from \"../UI/Modal\";\nimport classes from \"./Ticket.module.css\";\nimport Barcode from \"react-barcode\";\nimport { BiX } from \"react-icons/bi\";\nimport { uiActions } from \"../../Store/ui-slice\";\nimport { orderActions } from \"../../Store/order-slice\";\n\n\nconst Ticket = (props) => {\n    const { tickets,date,time,sessionId,movieName } = props;\n    const dispatch = useDispatch();\n  \n    console.log(tickets);\n    let items = tickets.map((ticket,index) => {\n        let row = ticket[0];\n        let seatNum = ticket[1];\n        let days = date.split(\"-\");\n        let day = days[1]+\"/\" +days[2];\n\n        return ticket = (\n            <div className={classes.ticket} key={index}>\n\n            <div className={classes.ticketrow}>\n        \n                <div className={classes.ticketsmall}>\n                    <div className={classes.tickettag}>Date</div>\n                    <div className={classes.ticketvalue}>{day}</div>\n                </div>\n                <div className={classes.ticketsmall}>\n                    <div className={classes.tickettag}>Time</div>\n                    <div className={classes.ticketvalue}>{time}</div>\n                </div>\n            \n    \n              \n                    <div className={classes.ticketsmall}>\n                        <div className={classes.tickettag}>ROW</div>\n                        <div className={classes.ticketvalue}>{row}</div>\n                    </div>\n                    <div className={classes.ticketsmall}>\n                        <div className={classes.tickettag}>SEAT</div>\n                        <div className={classes.ticketvalue}>{seatNum}</div>\n                    </div>\n                </div>   \n                <Barcode value={`${sessionId}${row}${seatNum}`} background= \"#fffce3\" height={50} width={1.5} displayValue={false}/>\n              \n            </div>\n\n        )\n    })\n \n\n    \n    return (\n       \n           <Fragment>\n                   \n                    <div className={classes.tickettitle}>\n                        <div>{movieName}</div>\n                    </div>\n                    {items}\n            </Fragment>        \n          \n\n    )\n}\n\nexport default Ticket;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tickettitle\":\"Ticket_tickettitle__1i3eL\",\"ticket\":\"Ticket_ticket__2dMvq\",\"ticketrow\":\"Ticket_ticketrow__kAA_E\",\"ticketsmall\":\"Ticket_ticketsmall__2T0-3\",\"tickettag\":\"Ticket_tickettag__1wRKi\",\"ticketvalue\":\"Ticket_ticketvalue__3_6W6\"};"],"sourceRoot":""}